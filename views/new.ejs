<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Create a New Post</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <h2>Create a New Post</h2>
        <form method="post" action="/posts" class="post-form" id="postForm">
            <input placeholder="Enter username" name="username" class="input-field" id="username"> <br> <br>
            <textarea placeholder="Write your post" name="content" class="textarea-field" id="content"></textarea> <br> <br>
            <button class="submit-button">Submit Post</button>
        </form>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', (event) => {
            const usernameField = document.getElementById('username');
            const contentField = document.getElementById('content');

            if (localStorage.getItem('username')) {
                usernameField.value = localStorage.getItem('username');
            }
            if (localStorage.getItem('content')) {
                contentField.value = localStorage.getItem('content');
            }

            usernameField.addEventListener('input', () => {
                localStorage.setItem('username', usernameField.value);
            });
            contentField.addEventListener('input', () => {
                localStorage.setItem('content', contentField.value);
            });

            document.getElementById('postForm').addEventListener('submit', () => {
                localStorage.removeItem('username');
                localStorage.removeItem('content');
            });
        });
    </script>
</body>
</html>